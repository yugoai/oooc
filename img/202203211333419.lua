--////////////////////////////////////////////////////////////////////////
--//*********************************************************************/
--//CPowerManager
--//*********************************************************************/
CPowerManager = class("CPowerManager");
--//*********************************************************************/
--////////////////////////////////////////////////////////////////////////

--//*********************************************************************/
--//类变量
--//*********************************************************************/
function CPowerManager:ctor()
	self.m_exeAppName = "SGServer.exe";
	self.m_masterServer = nil;
	self.m_uiManager = nil;
	self.m_dataListener = nil;
end;
--//***********************************************************************/
--//开始管理器
--//***********************************************************************/
function CPowerManager:start()
	--//************************************/
	self.m_masterServer = CMasterServer.new();
	self.m_uiManager = CUIManager.new();
	self.m_dataListener = CDataListener.new();
	--//************************************/
	self.m_masterServer:start(xbase:getAppPath());
	--//************************************/
	--//加载UI界面
	--//************************************/
	local skinfolder = xbase:getAppPath().."skin";
	self.m_uiManager:start(skinfolder);
	--//************************************/
	local win = self.m_uiManager:createWindow(CMainWnd);
	win:show();
	--//************************************/
end;
--//***********************************************************************/
--//停止管理器
--//***********************************************************************/
function CPowerManager:stop()
	self.m_masterServer:stop();
	self.m_uiManager:stop();
	self.m_dataListener:stop();
end;
--//***********************************************************************/
--//获取主程序路径
--//***********************************************************************/
function CPowerManager:getExeAppPath()
	return xbase:getAppPath()..self.m_exeAppName;
end;
--////////////////////////////////////////////////////////////////////////
--************************************************************************


